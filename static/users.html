<!DOCTYPE html>
<html lang=en>
    <head>
        <title>Klizacki klub</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="users.js"></script>

        
        <script>

            function validateForm() {
              let x = document.forms["myForm"]["name"].value;
              if (x == "") {
                alert("Name must be filled out");
                return false;
              }
              let y = document.forms["myForm"]["lastname"].value;
              if (y == "") {
                alert("Last name must be filled out");
                return false;
              }
              let z = document.forms["myForm"]["email"].value;
              if (z == "") {
                alert("Email must be filled out");
                return false;
              }
              let q = document.forms["myForm"]["password"].value;
              
              if (q == "") {
                alert("Password must be filled out");
                return false;
              } else if (q.length<5){
                alert("Password smaller than 5");
                return false;
              }
                else if (q.length>20){
                alert("Password longer than 20");
                return false;
              }
                
              let m = document.forms["myForm"]["role"].value;
              if (m == "") {
                alert("Role must be filled out");
                return false;
              } else if (m !="klijent" && m!="moderator"){
                alert("Role must be klijent or moderator");
                return false;
              }
             
            }

            function updateForm() {
            let index = document.forms["myForm"]["id"].value;
              if (index == "") {
                alert("Id must be filled out");
                return false;
              }  
              let x = document.forms["myForm"]["name"].value;
              if (x == "") {
                alert("Name must be filled out");
                return false;
              }
              let y = document.forms["myForm"]["lastname"].value;
              if (y == "") {
                alert("Last name must be filled out");
                return false;
              }
              let z = document.forms["myForm"]["email"].value;
              if (z == "") {
                alert("Email must be filled out");
                return false;
              }
              let q = document.forms["myForm"]["password"].value;
              
              if (q == "") {
                alert("Password must be filled out");
                return false;
              } else if (q.length<5){
                alert("Password smaller than 5");
                return false;
              }
                else if (q.length>20){
                alert("Password longer than 20");
                return false;
              }
                
              let m = document.forms["myForm"]["role"].value;
              if (m == "") {
                alert("Role must be filled out");
                return false;
              } else if (m !="klijent" && m!="moderator"){
                alert("Role must be klijent or moderator");
                return false;
              }
             
            }

            function deleteForm() {
            let index = document.forms["myForm"]["id"].value;
              if (index == "") {
                alert("Id must be filled out");
                return false;
              } 
             
            }



        </script>





    </head>

    <body onload="init()">
        <br/>
        <div class="container">
            <button type="button" id="logout" class="btn btn-secondary">Log Out</button>
        </div>
        <hr>

        <hr>

        <div class="container">
            <div class="row">
                <div class="col-6">
                    <h2>Users:</h2>
                    <ul id="usrLst"></ul>
                </div>
                <div class="col">
                    <!-- action = "/register" -->
                    <form name="myForm" method="post" action="/users" >
                        <div class="mb-3">
                            <label for="id" class="form-label">Id</label>
                            <input type="text" class="form-control" id="id" name="id">
                        </div>
                        <div class="mb-3">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="name" name="name">
                        </div>
                        <div class="mb-3">
                            <label for="lastname" class="form-label">Last name</label>
                            <input type="text" class="form-control" id="lastname" name="lastname">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp">
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="password" name="password">
                        </div>
                        <!-- <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="moderator" name="moderator">
                            <label class="form-check-label" for="moderator">Moderator</label>
                        </div> -->
                        <div class="mb-3">
                            <label for="role" class="form-label">Role</label>
                            <input type="text" class="form-control" id="role" name="role">
                        </div>

                        <div class="row">
                        <div class="col">
                
                            <div class="text-center">
                                <button type="submit" class="btn btn-outline-success" id="post" onclick="return validateForm()">Create</button>
                            </div>
                        </div>
                        <div class="col">
                            <div class="text-center">
                                <button type="submit" class="btn btn-outline-primary" id="put"  onclick="return updateForm()">Update</button>
                            </div>
                        </div>
                        <div class="col">
                            <div class="text-center">
                                <button type="submit" class="btn btn-outline-danger" id="delete" onclick="return deleteForm()">Remove</button>
                            </div>
                        </div>
                        </div>
                    </br>
                    </form>
                </div>

            </div>
        </div>
        

        
    </body>
</html>